<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_15) on Mon Apr 05 14:44:32 MDT 2010 -->
<TITLE>
ScheduleBroker
</TITLE>

<META NAME="date" CONTENT="2010-04-05">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ScheduleBroker";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ScheduleBroker.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../persistence/RuleBroker.html" title="class in persistence"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../persistence/ScheduleTemplateBroker.html" title="class in persistence"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?persistence/ScheduleBroker.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ScheduleBroker.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
persistence</FONT>
<BR>
Class ScheduleBroker</H2>
<PRE>
java.lang.Object
  <IMG SRC="../resources/inherit.gif" ALT="extended by "><A HREF="../persistence/Broker.html" title="class in persistence">persistence.Broker</A>&lt;<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&gt;
      <IMG SRC="../resources/inherit.gif" ALT="extended by "><B>persistence.ScheduleBroker</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ScheduleBroker</B><DT>extends <A HREF="../persistence/Broker.html" title="class in persistence">Broker</A>&lt;<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&gt;</DL>
</PRE>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>0.3.0</DD>
<DT><B>Author:</B></DT>
  <DD>Daniel Wehr</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../persistence/ScheduleBroker.html" title="class in persistence">ScheduleBroker</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#broker_schedule">broker_schedule</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ScheduleBroker object for singleton pattern</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private </CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#ScheduleBroker()">ScheduleBroker</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor for ScheduleBroker, initializes the Broker Connection
 Monitor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#create(business.schedule.Schedule, business.Employee)">create</A></B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;createObj,
       <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Accepts a newly made object, and creates its equivalent record within the
 database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#delete(business.schedule.Schedule, business.Employee)">delete</A></B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;deleteObj,
       <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the record from the database that is equivalent to the given
 object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#fillSched(business.schedule.Schedule[], application.DBConnection)">fillSched</A></B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>[]&nbsp;schedules,
          <A HREF="../application/DBConnection.html" title="class in application">DBConnection</A>&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fetches all shift templates and shift position objects from the database
 for each shiftTemplate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#get(business.schedule.Schedule, business.Employee)">get</A></B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;searchTemplate,
    <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets all schedules in the database that match the given schedule.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../persistence/ScheduleBroker.html" title="class in persistence">ScheduleBroker</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#getBroker()">getBroker</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a ScheduleBroker object, initialized if necessary.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#insertShift(business.schedule.Shift, int, java.sql.PreparedStatement, java.sql.PreparedStatement)">insertShift</A></B>(<A HREF="../business/schedule/Shift.html" title="class in business.schedule">Shift</A>&nbsp;shift,
            int&nbsp;schedID,
            java.sql.PreparedStatement&nbsp;createShift,
            java.sql.PreparedStatement&nbsp;createShiftEmp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts the given shift, using the given connection, resultSet, and
 schedule ID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#insertShiftEmployees(business.Employee[], int, java.sql.PreparedStatement)">insertShiftEmployees</A></B>(<A HREF="../business/Employee.html" title="class in business">Employee</A>[]&nbsp;shiftEmpArr,
                     int&nbsp;shiftID,
                     java.sql.PreparedStatement&nbsp;createShiftEmp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempts to insert an array of shift employees into the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#notifyScheduleEmps(business.schedule.Schedule, java.lang.String)">notifyScheduleEmps</A></B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;sched,
                   java.lang.String&nbsp;customMessage)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#parseResults(java.sql.ResultSet)">parseResults</A></B>(java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses a ResultSet returned by a select query back into cachable objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../business/schedule/Shift.html" title="class in business.schedule">Shift</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#parseShifts(java.sql.ResultSet)">parseShifts</A></B>(java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempts to create shift templates out of a given result set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#raceCheck(business.schedule.Schedule, business.Employee)">raceCheck</A></B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;old,
          <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compares a given schedule template against the database, ensuring that it
 has not been changed by another user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#sortSchedule(business.schedule.Schedule)">sortSchedule</A></B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;toSort)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Steps through a schedule and sorts all shifts, as well as all employees
 within them, to match the order that would be returned by the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../persistence/ScheduleBroker.html#update(business.schedule.Schedule, business.schedule.Schedule, business.Employee)">update</A></B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;oldObj,
       <A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;updateObj,
       <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Applies all changes to the updated object to its equivalent record within
 the database.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_persistence.Broker"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class persistence.<A HREF="../persistence/Broker.html" title="class in persistence">Broker</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../persistence/Broker.html#getConnection()">getConnection</A>, <A HREF="../persistence/Broker.html#initConnectionThread()">initConnectionThread</A>, <A HREF="../persistence/Broker.html#isPermissionLevelInputValid(java.lang.String)">isPermissionLevelInputValid</A>, <A HREF="../persistence/Broker.html#stopConnectionThread()">stopConnectionThread</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="broker_schedule"><!-- --></A><H3>
broker_schedule</H3>
<PRE>
private static <A HREF="../persistence/ScheduleBroker.html" title="class in persistence">ScheduleBroker</A> <B>broker_schedule</B></PRE>
<DL>
<DD>ScheduleBroker object for singleton pattern
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ScheduleBroker()"><!-- --></A><H3>
ScheduleBroker</H3>
<PRE>
private <B>ScheduleBroker</B>()</PRE>
<DL>
<DD>Constructor for ScheduleBroker, initializes the Broker Connection
 Monitor
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getBroker()"><!-- --></A><H3>
getBroker</H3>
<PRE>
public static <A HREF="../persistence/ScheduleBroker.html" title="class in persistence">ScheduleBroker</A> <B>getBroker</B>()</PRE>
<DL>
<DD>Returns a ScheduleBroker object, initialized if necessary.
<P>
<DD><DL>

<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="create(business.schedule.Schedule, business.Employee)"><!-- --></A><H3>
create</H3>
<PRE>
public boolean <B>create</B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;createObj,
                      <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)
               throws <A HREF="../exception/DBException.html" title="class in exception">DBException</A>,
                      <A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../persistence/Broker.html#create(E, business.Employee)">Broker</A></CODE></B></DD>
<DD>Accepts a newly made object, and creates its equivalent record within the
 database.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../persistence/Broker.html#create(E, business.Employee)">create</A></CODE> in class <CODE><A HREF="../persistence/Broker.html" title="class in persistence">Broker</A>&lt;<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>createObj</CODE> - The object to add to the database.
<DT><B>Returns:</B><DD>true if the create was successful, otherwise false.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../exception/DBException.html" title="class in exception">DBException</A></CODE>
<DD><CODE><A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="delete(business.schedule.Schedule, business.Employee)"><!-- --></A><H3>
delete</H3>
<PRE>
public boolean <B>delete</B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;deleteObj,
                      <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)
               throws <A HREF="../exception/DBException.html" title="class in exception">DBException</A>,
                      <A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../persistence/Broker.html#delete(E, business.Employee)">Broker</A></CODE></B></DD>
<DD>Removes the record from the database that is equivalent to the given
 object. The object to be deleted must have originally been retrieved from
 the database.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../persistence/Broker.html#delete(E, business.Employee)">delete</A></CODE> in class <CODE><A HREF="../persistence/Broker.html" title="class in persistence">Broker</A>&lt;<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if the delete was successful, otherwise false.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../exception/DBException.html" title="class in exception">DBException</A></CODE>
<DD><CODE><A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="get(business.schedule.Schedule, business.Employee)"><!-- --></A><H3>
get</H3>
<PRE>
public <A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>[] <B>get</B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;searchTemplate,
                      <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)
               throws <A HREF="../exception/DBException.html" title="class in exception">DBException</A>,
                      <A HREF="../exception/DBChangeException.html" title="class in exception">DBChangeException</A>,
                      <A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></PRE>
<DL>
<DD>Gets all schedules in the database that match the given schedule. Only one
 attribute from the given schedule will be used for the search, in the
 following order:<br>
 <br>
 A) Schedule ID (schedTempID)<br>
 B) Creator ID (creatorID)<br>
 C) Start Date & End Date (startDate, endDate)<br>
 <br>
 Searches by start and end date will return all schedules that start or end
 within the given dates.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../persistence/Broker.html#get(E, business.Employee)">get</A></CODE> in class <CODE><A HREF="../persistence/Broker.html" title="class in persistence">Broker</A>&lt;<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>searchTemplate</CODE> - the schedule template holding the attribute to be
           used for the search.<DD><CODE>caller</CODE> - The employee currently logged into the system, used for
           permissions checks.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../exception/DBException.html" title="class in exception">DBException</A></CODE>
<DD><CODE><A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></CODE>
<DD><CODE><A HREF="../exception/DBChangeException.html" title="class in exception">DBChangeException</A></CODE><DT><B>See Also:</B><DD><CODE>persistence.Broker#get(business.BusinessObject)</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="update(business.schedule.Schedule, business.schedule.Schedule, business.Employee)"><!-- --></A><H3>
update</H3>
<PRE>
public boolean <B>update</B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;oldObj,
                      <A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;updateObj,
                      <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)
               throws <A HREF="../exception/DBException.html" title="class in exception">DBException</A>,
                      <A HREF="../exception/DBChangeException.html" title="class in exception">DBChangeException</A>,
                      <A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../persistence/Broker.html#update(E, E, business.Employee)">Broker</A></CODE></B></DD>
<DD>Applies all changes to the updated object to its equivalent record within
 the database. The updated object must have originally been retrieved from
 the database.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../persistence/Broker.html#update(E, E, business.Employee)">update</A></CODE> in class <CODE><A HREF="../persistence/Broker.html" title="class in persistence">Broker</A>&lt;<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if the update was successful, otherwise false.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../exception/DBException.html" title="class in exception">DBException</A></CODE>
<DD><CODE><A HREF="../exception/DBChangeException.html" title="class in exception">DBChangeException</A></CODE>
<DD><CODE><A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sortSchedule(business.schedule.Schedule)"><!-- --></A><H3>
sortSchedule</H3>
<PRE>
public static void <B>sortSchedule</B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;toSort)</PRE>
<DL>
<DD>Steps through a schedule and sorts all shifts, as well as all employees
 within them, to match the order that would be returned by the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>toSort</CODE> - the schedule to sort.</DL>
</DD>
</DL>
<HR>

<A NAME="notifyScheduleEmps(business.schedule.Schedule, java.lang.String)"><!-- --></A><H3>
notifyScheduleEmps</H3>
<PRE>
public boolean <B>notifyScheduleEmps</B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;sched,
                                  java.lang.String&nbsp;customMessage)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="parseResults(java.sql.ResultSet)"><!-- --></A><H3>
parseResults</H3>
<PRE>
protected <A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>[] <B>parseResults</B>(java.sql.ResultSet&nbsp;rs)
                           throws java.sql.SQLException</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../persistence/Broker.html#parseResults(java.sql.ResultSet)">Broker</A></CODE></B></DD>
<DD>Parses a ResultSet returned by a select query back into cachable objects.
 The original search must have used a "SELECT *" so that full employee
 objects are in the ResultSet.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../persistence/Broker.html#parseResults(java.sql.ResultSet)">parseResults</A></CODE> in class <CODE><A HREF="../persistence/Broker.html" title="class in persistence">Broker</A>&lt;<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>An array of cachable objects.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="parseShifts(java.sql.ResultSet)"><!-- --></A><H3>
parseShifts</H3>
<PRE>
protected <A HREF="../business/schedule/Shift.html" title="class in business.schedule">Shift</A>[] <B>parseShifts</B>(java.sql.ResultSet&nbsp;rs)
                       throws java.sql.SQLException</PRE>
<DL>
<DD>Attempts to create shift templates out of a given result set.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rs</CODE> - the result set returned by a database search.
<DT><B>Returns:</B><DD>an array of shift templates retrieved from the result set, or null
         if the result set was empty.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="fillSched(business.schedule.Schedule[], application.DBConnection)"><!-- --></A><H3>
fillSched</H3>
<PRE>
private void <B>fillSched</B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>[]&nbsp;schedules,
                       <A HREF="../application/DBConnection.html" title="class in application">DBConnection</A>&nbsp;conn)
                throws java.sql.SQLException</PRE>
<DL>
<DD>Fetches all shift templates and shift position objects from the database
 for each shiftTemplate.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>templates</CODE> - <DD><CODE>conn</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="raceCheck(business.schedule.Schedule, business.Employee)"><!-- --></A><H3>
raceCheck</H3>
<PRE>
private boolean <B>raceCheck</B>(<A HREF="../business/schedule/Schedule.html" title="class in business.schedule">Schedule</A>&nbsp;old,
                          <A HREF="../business/Employee.html" title="class in business">Employee</A>&nbsp;caller)
                   throws <A HREF="../exception/DBChangeException.html" title="class in exception">DBChangeException</A>,
                          <A HREF="../exception/DBException.html" title="class in exception">DBException</A>,
                          <A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></PRE>
<DL>
<DD>Compares a given schedule template against the database, ensuring that it
 has not been changed by another user.  This is used check for race conditions
 when updating or deleting schedule templates in the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>old</CODE> - The schedule template that was previously retrieved
                        from the database.<DD><CODE>caller</CODE> - The employee that is logged into the system.
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE><A HREF="../exception/DBChangeException.html" title="class in exception">DBChangeException</A></CODE>
<DD><CODE><A HREF="../exception/DBException.html" title="class in exception">DBException</A></CODE>
<DD><CODE><A HREF="../exception/DBDownException.html" title="class in exception">DBDownException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="insertShift(business.schedule.Shift, int, java.sql.PreparedStatement, java.sql.PreparedStatement)"><!-- --></A><H3>
insertShift</H3>
<PRE>
private void <B>insertShift</B>(<A HREF="../business/schedule/Shift.html" title="class in business.schedule">Shift</A>&nbsp;shift,
                         int&nbsp;schedID,
                         java.sql.PreparedStatement&nbsp;createShift,
                         java.sql.PreparedStatement&nbsp;createShiftEmp)
                  throws java.sql.SQLException,
                         <A HREF="../exception/DBException.html" title="class in exception">DBException</A></PRE>
<DL>
<DD>Inserts the given shift, using the given connection, resultSet, and
 schedule ID.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>shift</CODE> - The shift to insert into the database.<DD><CODE>createShift</CODE> - The resultSet defining the insert for a shift.<DD><CODE>createShiftEmp</CODE> - The resultSet defining the insert for a shift
           employee.<DD><CODE>schedID</CODE> - The ID number of the schedule the shift belongs to
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - if there was an error with the insert statements.
<DD><CODE><A HREF="../exception/DBException.html" title="class in exception">DBException</A></CODE> - if there was an error with executing the statements.</DL>
</DD>
</DL>
<HR>

<A NAME="insertShiftEmployees(business.Employee[], int, java.sql.PreparedStatement)"><!-- --></A><H3>
insertShiftEmployees</H3>
<PRE>
private void <B>insertShiftEmployees</B>(<A HREF="../business/Employee.html" title="class in business">Employee</A>[]&nbsp;shiftEmpArr,
                                  int&nbsp;shiftID,
                                  java.sql.PreparedStatement&nbsp;createShiftEmp)
                           throws <A HREF="../exception/DBException.html" title="class in exception">DBException</A>,
                                  java.sql.SQLException</PRE>
<DL>
<DD>Attempts to insert an array of shift employees into the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>shiftEmpArr</CODE> - The array to insert.<DD><CODE>shiftID</CODE> - The shift template ID to use for all shift employees.<DD><CODE>createShiftEmp</CODE> - The prepared statement used to execute the inserts.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../exception/DBException.html" title="class in exception">DBException</A></CODE>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ScheduleBroker.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../persistence/RuleBroker.html" title="class in persistence"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../persistence/ScheduleTemplateBroker.html" title="class in persistence"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?persistence/ScheduleBroker.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ScheduleBroker.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
